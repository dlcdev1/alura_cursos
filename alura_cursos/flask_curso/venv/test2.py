# request_data = {'active': True, 'comments': '', 'created_at': '2020-11-09T12:57:27.516', 'created_by': 'davidcorreia', 'email': {'email_id': 'new-biz-service', 'email_task_location': 'us-central1', 'email_task_queue_name': 'sandbox-e2e-tasks-queue-send-email', 'from': 'sbox-google@ciandt.com', 'parameters': {'date': 'Nov 09, 2020', 'email_from': 'sbox-google@ciandt.com', 'email_task_location': 'us-central1', 'email_task_queue_name': 'sandbox-e2e-tasks-queue-send-email', 'link_budget_item': 'https://budget-sandbox-e2e.appspot.com/budget-items/22', 'link_buganizer': 'https://b.corp.google.com/issues/{buganizer_id}', 'placeholder_id': 22, 'subject': 'New Biz Service Requested'}, 'subject': 'New Biz Service Requested', 'to': 'davidcorreia@google.com,rafaellott@google.com,rafaellott@ciandt.com'}, 'expected_service': 'navigo-simba-po-default', 'expected_service_changed_at': None, 'expected_service_changed_by': None, 'form_id': 91, 'form_team_id': 83, 'form_type': 'procurement_support', 'id': 22, 'operation': 'insert', 'owner': 'davidcorreia', 'permissions': {'edit': False}, 'placeholder': {'id': 22, 'sandbox_id': 'SAO30', 'status_display': '-'}, 'processed': False, 'sandbox_id': '', 'sandbox_sections': [{'option': {'id': 2, 'name': 'NAVIGO, SIMBA, PO [Default]', 'question_id': 'expected_service', 'section_id': None, 'value': 'navigo-simba-po-default'}, 'path': '/expected_service', 'question_id': 'expected_service', 'value': 'navigo-simba-po-default'}], 'sections': [{'option': {'id': 3105, 'name': 'No', 'question_id': 1602, 'section_id': None, 'value': 'Value 1'}, 'path': '/1602', 'question_id': 1602, 'value': 'Value 1'}, {'option': None, 'path': '/770', 'question_id': 770, 'value': '150'}, {'option': {'id': 1536, 'name': 'USD', 'question_id': 771, 'section_id': None, 'value': 'Value 2'}, 'path': '/771', 'question_id': 771, 'value': 'Value 2'}, {'option': None, 'path': '/902', 'question_id': 902, 'value': 'test'}, {'option': None, 'path': '/772', 'question_id': 772, 'value': 'test'}, {'option': None, 'path': '/773', 'question_id': 773, 'value': 'test'}, {'option': None, 'path': '/774', 'question_id': 774, 'value': 'test'}, {'option': None, 'path': '/775', 'question_id': 775, 'value': '2020-11-09'}, {'option': None, 'path': '/776', 'question_id': 776, 'value': '2020-11-30'}, {'option': {'id': 1539, 'name': 'No', 'question_id': 777, 'section_id': None, 'value': 'Value 2'}, 'path': '/777', 'question_id': 777, 'value': 'Value 2'}, {'option': {'id': 1809, 'name': 'No', 'question_id': 889, 'section_id': None, 'value': 'Value 2'}, 'path': '/889', 'question_id': 889, 'value': 'Value 2'}, {'option': {'id': 1811, 'name': 'No', 'question_id': 890, 'section_id': None, 'value': 'Value 2'}, 'path': '/890', 'question_id': 890, 'value': 'Value 2'}, {'option': {'id': 1813, 'name': 'No', 'question_id': 891, 'section_id': None, 'value': 'Value 2'}, 'path': '/891', 'question_id': 891, 'value': 'Value 2'}, {'option': None, 'path': '/892', 'question_id': 892, 'value': None}, {'option': None, 'path': '/778', 'question_id': 778, 'value': None}, {'option': None, 'path': '/893', 'question_id': 893, 'value': None}, {'option': None, 'path': '/894', 'question_id': 894, 'value': None}, {'option': None, 'path': '/895', 'question_id': 895, 'value': None}, {'option': None, 'path': '/896', 'question_id': 896, 'value': None}, {'option': None, 'path': '/779', 'question_id': 779, 'value': None}, {'option': None, 'path': '/780', 'question_id': 780, 'value': None}, {'option': None, 'path': '/781', 'question_id': 781, 'value': None}, {'option': None, 'path': '/782', 'question_id': 782, 'value': None}, {'option': None, 'path': '/903', 'question_id': 903, 'value': None}, {'option': None, 'path': '/904', 'question_id': 904, 'value': None}], 'status_display': '_', 'team_id': 1}
#
# print(request_data["expected_service_changed_by"])


result2 = {'active': True, 'buganizer_id': 172903886, 'comments': '', 'correlation_id': '5746482808356864', 'created_at': '2020-11-10T12:50:28.734', 'created_by': 'davidcorreia', 'expected_service': 'navigo-simba-po-default', 'expected_service_changed_at': None, 'expected_service_changed_by': None, 'form_team': {'description': None, 'form_id': 91, 'form_type': 'procurement_support', 'form_uuid': '7c3b3b06-d787-41b8-b2ef-25fe1baf56a4', 'id': 79, 'team': {'cost_center': None, 'cost_center_id': 65, 'description': None, 'id': 1, 'name': '362: Strategy & Operations', 'parent_id': None, 'prefix': None, 'sandbox_id_counter': None, 'type': 'team'}, 'team_id': 1}, 'form_team_id': 79, 'form_type': 'business_services', 'id': 693, 'navigo_id': 'test', 'navigo_risk': 'High', 'operation': 'update', 'owner': 'davidcorreia', 'permissions': {'edit': False}, 'placeholder': {'cost_center': '362: Marketing Analytics & Ops - Business Intelligence', 'id': 693, 'sandbox_id': 'SO268', 'status': 'requested', 'status_display': 'Requested'}, 'placeholder_id': 693, 'po_number': 'Teste2', 'processed': True, 'sandbox_id': '', 'simba_id': 'test', 'status': 'requested', 'status_changed_at': None, 'status_changed_by': None, 'status_display': '_', 'updated_at': '2020-11-10T13:03:38.168', 'updated_by': 'davidcorreia'}

result = {'active': True, 'buganizer_id': 172903886, 'comments': '', 'correlation_id': '5746482808356864', 'created_at': '2020-11-10T12:50:28.734', 'created_by': 'davidcorreia', 'email': {'email_id': 'edited-business-status', 'email_task_location': 'us-central1', 'email_task_queue_name': 'sandbox-dev-tasks-send-email', 'from': 'sbox-google@ciandt.com', 'parameters': {'buganizer_id': 172903886, 'current_status': 'SOW access missing', 'date': 'Nov 10, 2020', 'email_from': 'sbox-google@ciandt.com', 'email_task_location': 'us-central1', 'email_task_queue_name': 'sandbox-dev-tasks-send-email', 'link_budget_item': 'https://budget-sandbox-dev.appspot.com/budget-items/693', 'link_buganizer': 'https://b.corp.google.com/issues/172903886', 'old_status': 'Requested', 'placeholder_id': 693, 'subject': 'Biz Services Status Updated'}, 'subject': 'Biz Services Status Updated', 'to': 'davidcorreia@google.com,rafaellott@google.com,rafaellott@ciandt.com'}, 'expected_service': 'navigo-simba-po-default', 'expected_service_changed_at': None, 'expected_service_changed_by': None, 'form_team': {'description': None, 'form_id': 91, 'form_type': 'procurement_support', 'form_uuid': '7c3b3b06-d787-41b8-b2ef-25fe1baf56a4', 'id': 79, 'team': {'cost_center': None, 'cost_center_id': 65, 'description': None, 'id': 1, 'name': '362: Strategy & Operations', 'parent_id': None, 'prefix': None, 'sandbox_id_counter': None, 'type': 'team'}, 'team_id': 1}, 'form_team_id': 79, 'form_type': 'business_services', 'id': 693, 'navigo_id': 'test', 'navigo_risk': 'High', 'operation': 'update', 'owner': 'davidcorreia', 'permissions': {'edit': False}, 'placeholder': {'cost_center': '362: Marketing Analytics & Ops - Business Intelligence', 'id': 693, 'sandbox_id': 'SO268', 'status': 'sow-access-missing', 'status_display': 'SOW access missing'}, 'placeholder_id': 693, 'po_number': 'Teste2', 'processed': True, 'sandbox_id': '', 'simba_id': 'test', 'status': 'sow-access-missing', 'status_changed_at': '2020-11-10T13:14:14.505', 'status_changed_by': 'davidcorreia', 'status_display': '_', 'updated_at': '2020-11-10T13:14:14.505', 'updated_by': 'davidcorreia'}

print(result.get('status_changed_by'))
print(result2.get('status_changed_by'))


# [(693, 'test', 'test', 'High', 'Teste2', '', datetime.datetime(2020, 11, 10, 13, 14, 14, 505000), 'davidcorreia', '2020-11-10T13:14:14.505', 'davidcorreia', 'sow-access-missing')]
# [(693, 'test', 'test', 'High', 'Teste2', '', datetime.datetime(2020, 11, 10, 13, 3, 38, 168000), 'davidcorreia', None, None, 'requested', 172903886)]